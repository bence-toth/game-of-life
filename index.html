<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <meta http-equiv="X-UA-Compatible" content="IE=edge" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>Game of life</title>
    <style>
      * {
        box-sizing: border-box;
        margin: 0;
        padding: 0;
      }
      html,
      body {
        height: 100%;
      }
      #table {
        max-width: 100%;
        max-height: 100%;
        aspect-ratio: 1 / 1;
        margin: auto;
        display: flex;
        flex-direction: column;
      }
      #table .tr {
        display: flex;
        flex-grow: 1;
      }
      #table .td {
        flex-grow: 1;
      }
      #table .tr:nth-child(even) .td:nth-child(even),
      #table .tr:nth-child(odd) .td:nth-child(odd) {
        background-color: hsl(0, 0%, 90%);
      }
      #table .td.alive {
        background-color: black;
      }
    </style>
  </head>
  <body>
    <div id="table"></div>
    <script>
      const gridSize = 75;

      const getRandomRow = () =>
        Array(gridSize)
          .fill()
          .map(() => (Math.random() < 0.5 ? 1 : 0));

      let grid = Array(gridSize)
        .fill()
        .map(() => getRandomRow());

      const renderGrid = () => {
        document.getElementById("table").innerHTML = grid
          .map(
            (row) =>
              `<div class="tr">${row
                .map(
                  (cell) =>
                    `<div class="td${cell === 1 ? " alive" : ""}"></div>`
                )
                .join("")}</div>`
          )
          .join("");
      };
      renderGrid();
    </script>
  </body>
</html>
